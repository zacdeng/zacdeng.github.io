

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/hacker3.png">
  <link rel="icon" href="/img/hacker3.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Zachary Deng">
  <meta name="keywords" content="Zack, blog, ROS, Zachary Deng, Zachary, Deng, 邓志豪, Zhihao Deng, Zhihao, React, Front-End">
  
    <meta name="description" content="MySQL - 基础用法总结申明：本文章内容均为作者学习完菜鸟教程的MySQL系列教程后的总结，任何内容请以菜鸟教程文章内容为准！ MySQL管理Windows系统 启动MySQL服务器  cd c:&#x2F;mysql&#x2F;bin mysqld --console   关闭MySQL服务器  cd c:&#x2F;mysql&#x2F;bin mysqladmin -uroot shutdown  或者直接打开任务管理器-服务">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL - 基础用法总结">
<meta property="og:url" content="http://example.com/2021/07/10/MySQL%20-%20%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Zachary&#39;s Blog">
<meta property="og:description" content="MySQL - 基础用法总结申明：本文章内容均为作者学习完菜鸟教程的MySQL系列教程后的总结，任何内容请以菜鸟教程文章内容为准！ MySQL管理Windows系统 启动MySQL服务器  cd c:&#x2F;mysql&#x2F;bin mysqld --console   关闭MySQL服务器  cd c:&#x2F;mysql&#x2F;bin mysqladmin -uroot shutdown  或者直接打开任务管理器-服务">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-10T18:00:07.000Z">
<meta property="article:modified_time" content="2021-07-11T21:24:32.000Z">
<meta property="article:author" content="Zachary Deng">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary_large_image">
  
  
  <title>MySQL - 基础用法总结 - Zachary&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":60,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
        <img src=https://i.loli.net/2020/07/14/y2oaANRLjTYSpG1.gif width="45px" style="margin-right: 5px">
        <strong> Hi 👋 Zach here!</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
          
              <li class="nav-item" id="search-btn">
                  <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
                      &nbsp;<i class="iconfont icon-search"></i>&nbsp;
                  </a>
              </li>
              
          

        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archive
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Category
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tag
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/about/">
                    <i class="iconfont icon-user-fill"></i>
                    About Me
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/resume/">
                    <i class="iconfont icon-addrcard"></i>
                    Resume
                  </a>
                
              </div>
            </li>
          
        

          
              <li class="nav-item" id="color-toggle-btn">
                  <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                              class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
              </li>
          
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/page3.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MySQL - 基础用法总结"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-07-10 13:00" pubdate>
          July 10, 2021 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          27k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          224 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MySQL - 基础用法总结</h1>
            
            <div class="markdown-body">
              
              <h1 id="MySQL-基础用法总结"><a href="#MySQL-基础用法总结" class="headerlink" title="MySQL - 基础用法总结"></a>MySQL - 基础用法总结</h1><p>申明：本文章内容均为作者学习完菜鸟教程的MySQL系列教程后的总结，任何内容请以菜鸟教程文章内容为准！</p>
<h2 id="MySQL管理"><a href="#MySQL管理" class="headerlink" title="MySQL管理"></a>MySQL管理</h2><h3 id="Windows系统"><a href="#Windows系统" class="headerlink" title="Windows系统"></a>Windows系统</h3><ul>
<li>启动MySQL服务器</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs shell">cd c:/mysql/bin
mysqld --console</code></pre></div>

<ul>
<li>关闭MySQL服务器</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs shell">cd c:/mysql/bin
mysqladmin -uroot shutdown</code></pre></div>

<p>或者直接打开任务管理器-服务-MySQL，右键选择启动或关闭</p>
<h3 id="Linux系统"><a href="#Linux系统" class="headerlink" title="Linux系统"></a>Linux系统</h3><p>首先，我们需要通过以下命令来检查MySQL服务器是否启动（查进程）：</p>
<div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> mysqld</code></pre></div>

<p>如果MySql已经启动，以上命令将输出mysql进程列表， 如果mysql未启动，你可以使用以下命令来启动mysql服务器:</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">root@host# </span><span class="language-bash"><span class="hljs-built_in">cd</span> /usr/bin</span>
./mysqld_safe &amp;</code></pre></div>

<p>如果你想关闭目前运行的 MySQL 服务器, 你可以执行以下命令:</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">root@host# </span><span class="language-bash"><span class="hljs-built_in">cd</span> /usr/bin</span>
./mysqladmin -u root -p shutdown
Enter password: ******</code></pre></div>

<h3 id="管理MySQL的命令"><a href="#管理MySQL的命令" class="headerlink" title="管理MySQL的命令"></a>管理MySQL的命令</h3><ul>
<li><em>USE 数据库名</em></li>
</ul>
<p>选择要操作的Mysql数据库，使用该命令后所有Mysql命令都只针对该数据库。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; use RUNOOB;
Database changed</code></pre></div>

<ul>
<li><em>SHOW DATABASES</em></li>
</ul>
<p>列出 MySQL 数据库管理系统的数据库列表。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| RUNOOB             |
| cdcol              |
| mysql              |
| onethink           |
| performance_schema |
| phpmyadmin         |
| test               |
| wecenter           |
| wordpress          |
+--------------------+
10 rows in set (0.02 sec)</code></pre></div>

<ul>
<li><em>SHOW TABLES</em></li>
</ul>
<p>显示指定数据库的所有表，使用该命令前需要使用 use 命令来选择要操作的数据库。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; use RUNOOB;
Database changed
mysql&gt; SHOW TABLES;
+------------------+
| Tables_in_runoob |
+------------------+
| employee_tbl     |
| runoob_tbl       |
| tcount_tbl       |
+------------------+
3 rows in set (0.00 sec)</code></pre></div>

<ul>
<li><em>SHOW COLUMNS FROM 数据表 &#x2F; DESC 数据库</em></li>
</ul>
<p>显示数据表的属性，属性类型，主键信息 ，是否为 NULL，默认值等其他信息。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SHOW COLUMNS FROM runoob_tbl;
+-----------------+--------------+------+-----+---------+-------+
| Field           | Type         | Null | Key | Default | Extra |
+-----------------+--------------+------+-----+---------+-------+
| runoob_id       | int(11)      | NO   | PRI | NULL    |       |
| runoob_title    | varchar(255) | YES  |     | NULL    |       |
| runoob_author   | varchar(255) | YES  |     | NULL    |       |
| submission_date | date         | YES  |     | NULL    |       |
+-----------------+--------------+------+-----+---------+-------+
4 rows in set (0.01 sec)</code></pre></div>

<ul>
<li><em>SHOW INDEX FROM 数据表</em></li>
</ul>
<p>显示数据表的详细索引信息，包括PRIMARY KEY（主键）。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SHOW INDEX FROM runoob_tbl;
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| Table      | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| runoob_tbl |          0 | PRIMARY  |            1 | runoob_id   | A         |           2 |     NULL | NULL   |      | BTREE      |         |               |
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
1 row in set (0.00 sec)</code></pre></div>

<h2 id="MySQL-连接服务器"><a href="#MySQL-连接服务器" class="headerlink" title="MySQL 连接服务器"></a>MySQL 连接服务器</h2><ul>
<li>从命令行直接连接mysql服务器：</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs mysql">[root@host]# mysql -u root -p
Enter password:******</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs mysql">[root@host]# mysql -uroot -p******</code></pre></div>

<ul>
<li>退出服务器：</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; exit
Bye</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; quit
Bye</code></pre></div>

<h2 id="MySQL-数据库操作"><a href="#MySQL-数据库操作" class="headerlink" title="MySQL 数据库操作"></a>MySQL 数据库操作</h2><h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><ul>
<li>方式一：登录后创建</li>
</ul>
<p>我们可以在登陆 MySQL 服务后，使用 <strong>create</strong> 命令创建数据库，语法如下:</p>
<div class="code-wrapper"><pre><code class="hljs mysql">CREATE DATABASE &lt;数据库名&gt;;</code></pre></div>

<ul>
<li>方式二：<strong>mysqladmin</strong> 命令直接创建</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs shell">mysqladmin -uroot -p****** create &lt;数据库名&gt;</code></pre></div>

<h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><ul>
<li>方式一：<strong>drop</strong> 命令删除</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs mysql">drop database &lt;数据库名&gt;;</code></pre></div>

<ul>
<li>方式二：<strong>mysqladmin</strong> 命令删除</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs shell">mysqladmin -uroot -p****** drop &lt;数据库名&gt;</code></pre></div>

<h3 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h3><div class="code-wrapper"><pre><code class="hljs mysql">use &lt;数据库名&gt;；</code></pre></div>

<p><strong>注意:</strong> 与mysql命令不同，所有的数据库名，表名，表字段都是区分大小写的。所以你在使用SQL命令时需要输入正确的名称。</p>
<h2 id="MySQL-数据类型"><a href="#MySQL-数据类型" class="headerlink" title="MySQL 数据类型"></a>MySQL 数据类型</h2><h3 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h3><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">大小</th>
<th align="center">范围（有符号）</th>
<th align="center">范围（无符号）</th>
<th align="left">用途</th>
</tr>
</thead>
<tbody><tr>
<td align="center">TINYINT</td>
<td align="center">1 byte</td>
<td align="center">(-128，127)</td>
<td align="center">(0，255)</td>
<td align="left">小整数值</td>
</tr>
<tr>
<td align="center">SMALLINT</td>
<td align="center">2 bytes</td>
<td align="center">(-32 768，32 767)</td>
<td align="center">(0，65 535)</td>
<td align="left">大整数值</td>
</tr>
<tr>
<td align="center">MEDIUMINT</td>
<td align="center">3 bytes</td>
<td align="center">(-8 388 608，8 388 607)</td>
<td align="center">(0，16 777 215)</td>
<td align="left">大整数值</td>
</tr>
<tr>
<td align="center">INT或INTEGER</td>
<td align="center">4 bytes</td>
<td align="center">(-2 147 483 648，2 147 483 647)</td>
<td align="center">(0，4 294 967 295)</td>
<td align="left">大整数值</td>
</tr>
<tr>
<td align="center">BIGINT</td>
<td align="center">8 bytes</td>
<td align="center">(-9,223,372,036,854,775,808，9 223 372 036 854 775 807)</td>
<td align="center">(0，18 446 744 073 709 551 615)</td>
<td align="left">极大整数值</td>
</tr>
<tr>
<td align="center">FLOAT</td>
<td align="center">4 bytes</td>
<td align="center">(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)</td>
<td align="center">0，(1.175 494 351 E-38，3.402 823 466 E+38)</td>
<td align="left">单精度 浮点数值</td>
</tr>
<tr>
<td align="center">DOUBLE</td>
<td align="center">8 bytes</td>
<td align="center">(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td align="center">0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td align="left">双精度 浮点数值</td>
</tr>
<tr>
<td align="center">DECIMAL</td>
<td align="center">对DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td>
<td align="center">依赖于M和D的值</td>
<td align="center">依赖于M和D的值</td>
<td align="left">小数值</td>
</tr>
</tbody></table>
<h3 id="日期和时间类型"><a href="#日期和时间类型" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h3><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">大小 ( bytes)</th>
<th align="center">范围</th>
<th align="center">格式</th>
<th align="center">用途</th>
</tr>
</thead>
<tbody><tr>
<td align="center">DATE</td>
<td align="center">3</td>
<td align="center">1000-01-01&#x2F;9999-12-31</td>
<td align="center">YYYY-MM-DD</td>
<td align="center">日期值</td>
</tr>
<tr>
<td align="center">TIME</td>
<td align="center">3</td>
<td align="center">‘-838:59:59’&#x2F;‘838:59:59’</td>
<td align="center">HH:MM:SS</td>
<td align="center">时间值或持续时间</td>
</tr>
<tr>
<td align="center">YEAR</td>
<td align="center">1</td>
<td align="center">1901&#x2F;2155</td>
<td align="center">YYYY</td>
<td align="center">年份值</td>
</tr>
<tr>
<td align="center">DATETIME</td>
<td align="center">8</td>
<td align="center">1000-01-01 00:00:00&#x2F;9999-12-31 23:59:59</td>
<td align="center">YYYY-MM-DD HH:MM:SS</td>
<td align="center">混合日期和时间值</td>
</tr>
<tr>
<td align="center">TIMESTAMP</td>
<td align="center">4</td>
<td align="center">1970-01-01 00:00:00&#x2F;2038结束时间是第 <strong>2147483647</strong> 秒，北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td>
<td align="center">YYYYMMDD HHMMSS</td>
<td align="center">混合日期和时间值，时间戳</td>
</tr>
</tbody></table>
<h3 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h3><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">大小</th>
<th align="center">用途</th>
</tr>
</thead>
<tbody><tr>
<td align="center">CHAR</td>
<td align="center">0-255 bytes</td>
<td align="center">定长字符串</td>
</tr>
<tr>
<td align="center">VARCHAR</td>
<td align="center">0-65535 bytes</td>
<td align="center">变长字符串</td>
</tr>
<tr>
<td align="center">TINYBLOB</td>
<td align="center">0-255 bytes</td>
<td align="center">不超过 255 个字符的二进制字符串</td>
</tr>
<tr>
<td align="center">TINYTEXT</td>
<td align="center">0-255 bytes</td>
<td align="center">短文本字符串</td>
</tr>
<tr>
<td align="center">BLOB</td>
<td align="center">0-65 535 bytes</td>
<td align="center">二进制形式的长文本数据</td>
</tr>
<tr>
<td align="center">TEXT</td>
<td align="center">0-65 535 bytes</td>
<td align="center">长文本数据</td>
</tr>
<tr>
<td align="center">MEDIUMBLOB</td>
<td align="center">0-16 777 215 bytes</td>
<td align="center">二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td align="center">MEDIUMTEXT</td>
<td align="center">0-16 777 215 bytes</td>
<td align="center">中等长度文本数据</td>
</tr>
<tr>
<td align="center">LONGBLOB</td>
<td align="center">0-4 294 967 295 bytes</td>
<td align="center">二进制形式的极大文本数据</td>
</tr>
<tr>
<td align="center">LONGTEXT</td>
<td align="center">0-4 294 967 295 bytes</td>
<td align="center">极大文本数据</td>
</tr>
</tbody></table>
<p><strong>注意</strong>：char(n) 和 varchar(n) 中括号中 n 代表字符的个数，并不代表字节个数，比如 CHAR(30) 就可以存储 30 个字符。</p>
<h2 id="MySQL-数据表操作"><a href="#MySQL-数据表操作" class="headerlink" title="MySQL 数据表操作"></a>MySQL 数据表操作</h2><h3 id="创建数据表"><a href="#创建数据表" class="headerlink" title="创建数据表"></a>创建数据表</h3><p>通用语法</p>
<div class="code-wrapper"><pre><code class="hljs mysql">CREATE TABLE table_name (column_name column_type);</code></pre></div>

<p>以下例子中我们将在 RUNOOB 数据库中创建数据表runoob_tbl</p>
<div class="code-wrapper"><pre><code class="hljs mysql">CREATE TABLE IF NOT EXISTS `runoob_tbl`(
   `runoob_id` INT UNSIGNED AUTO_INCREMENT,
   `runoob_title` VARCHAR(100) NOT NULL,
   `runoob_author` VARCHAR(40) NOT NULL,
   `submission_date` DATE,
   PRIMARY KEY ( `runoob_id` )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;</code></pre></div>

<p>通过 <strong>mysql&gt;</strong>  命令窗口创建MySQL数据表实例</p>
<div class="code-wrapper"><pre><code class="hljs mysql">root@host# mysql -u root -p
Enter password:*******
mysql&gt; use RUNOOB;
Database changed
mysql&gt; CREATE TABLE runoob_tbl(
   -&gt; runoob_id INT NOT NULL AUTO_INCREMENT,
   -&gt; runoob_title VARCHAR(100) NOT NULL,
   -&gt; runoob_author VARCHAR(40) NOT NULL,
   -&gt; submission_date DATE,
   -&gt; PRIMARY KEY ( runoob_id )
   -&gt; )ENGINE=InnoDB DEFAULT CHARSET=utf8;
Query OK, 0 rows affected (0.16 sec)
mysql&gt;</code></pre></div>

<p><strong>注意：</strong>MySQL命令终止符为分号 <strong>;</strong> </p>
<h3 id="删除数据表"><a href="#删除数据表" class="headerlink" title="删除数据表"></a>删除数据表</h3><p>以下为删除MySQL数据表的通用语法</p>
<div class="code-wrapper"><pre><code class="hljs mysql">DROP TABLE table_name ;</code></pre></div>

<h3 id="向数据表中插入数据"><a href="#向数据表中插入数据" class="headerlink" title="向数据表中插入数据"></a>向数据表中插入数据</h3><p>MySQL 表中使用 <strong>INSERT INTO</strong> SQL语句来插入数据</p>
<div class="code-wrapper"><pre><code class="hljs mysql">INSERT INTO table_name ( field1, field2,...fieldN )
                       VALUES
                       ( value1, value2,...valueN );</code></pre></div>

<p><strong>注意：</strong>如果数据是字符型，必须使用单引号或者双引号，如：”value”</p>
<ul>
<li>操作实例，向 <strong>RUNOOB</strong> 数据库的 <strong>runoob_tb1</strong> 表中插入三条数据</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs mysql">root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use RUNOOB;
Database changed
mysql&gt; INSERT INTO runoob_tbl 
    -&gt; (runoob_title, runoob_author, submission_date)
    -&gt; VALUES
    -&gt; (&quot;学习 PHP&quot;, &quot;菜鸟教程&quot;, NOW());
Query OK, 1 rows affected, 1 warnings (0.01 sec)
mysql&gt; INSERT INTO runoob_tbl
    -&gt; (runoob_title, runoob_author, submission_date)
    -&gt; VALUES
    -&gt; (&quot;学习 MySQL&quot;, &quot;菜鸟教程&quot;, NOW());
Query OK, 1 rows affected, 1 warnings (0.01 sec)
mysql&gt; INSERT INTO runoob_tbl
    -&gt; (runoob_title, runoob_author, submission_date)
    -&gt; VALUES
    -&gt; (&quot;JAVA 教程&quot;, &quot;RUNOOB.COM&quot;, &#x27;2016-05-06&#x27;);
Query OK, 1 rows affected (0.00 sec)
mysql&gt;</code></pre></div>

<h3 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h3><p>MySQL 数据库使用SQL <strong>SELECT</strong> 语句来查询数据</p>
<div class="code-wrapper"><pre><code class="hljs mysql">SELECT column_name,column_name
FROM table_name
[WHERE Clause]
[LIMIT N][ OFFSET M]</code></pre></div>

<ul>
<li>查询语句中你可以使用一个或者多个表，表之间使用逗号(,)分割，并使用WHERE语句来设定查询条件。</li>
<li>SELECT 命令可以读取一条或者多条记录。</li>
<li>你可以使用星号（*）来代替其他字段，SELECT语句会返回表的所有字段数据</li>
<li>你可以使用 WHERE 语句来包含任何条件。</li>
<li>你可以使用 LIMIT 属性来设定返回的记录数。</li>
<li>你可以通过OFFSET指定SELECT语句开始查询的数据偏移量。默认情况下偏移量为0。</li>
</ul>
<p>用 <strong>select</strong> 语句返回数据表所有信息实例：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; select * from runoob_tbl;
+-----------+--------------+---------------+-----------------+
| runoob_id | runoob_title | runoob_author | submission_date |
+-----------+--------------+---------------+-----------------+
|         1 | 学习 PHP     | 菜鸟教程      | 2017-04-12      |
|         2 | 学习 MySQL   | 菜鸟教程      | 2017-04-12      |
|         3 | 学习 Java    | RUNOOB.COM    | 2015-05-01      |
|         4 | 学习 Python  | RUNOOB.COM    | 2016-03-06      |
|         5 | 学习 C       | FK            | 2017-04-05      |
+-----------+--------------+---------------+-----------------+
5 rows in set (0.01 sec)</code></pre></div>

<h2 id="MySQL-WHERE子句"><a href="#MySQL-WHERE子句" class="headerlink" title="MySQL WHERE子句"></a>MySQL WHERE子句</h2><p><strong>WHERE</strong> 子句可以类比为编程语言中的限制条件来理解</p>
<p>以下是 SQL SELECT 语句使用 WHERE 子句从数据表中读取数据的通用语法：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">SELECT field1, field2,...fieldN FROM table_name1, table_name2...
[WHERE condition1 [AND [OR]] condition2.....</code></pre></div>

<ul>
<li><p>你可以使用 AND 或者 OR 指定一个或多个条件。</p>
</li>
<li><p>WHERE 子句也可以运用于 SQL 的 DELETE 或者 UPDATE 命令。</p>
</li>
<li><p>WHERE 子句类似于程序语言中的 if 条件，根据 MySQL 表中的字段值来读取指定的数据。</p>
</li>
<li><p>使用 <strong>主键</strong> 来作为 WHERE 子句的条件查询是非常快速的。</p>
</li>
<li><p>如果给定的条件在表中没有任何匹配的记录，那么查询不会返回任何数据。</p>
</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; select * from runoob_tbl where runoob_title=&quot;学习 java&quot;;
+-----------+--------------+---------------+-----------------+
| runoob_id | runoob_title | runoob_author | submission_date |
+-----------+--------------+---------------+-----------------+
|         3 | 学习 Java    | RUNOOB.COM    | 2015-05-01      |
+-----------+--------------+---------------+-----------------+
1 row in set (0.00 sec)</code></pre></div>

<p><strong>注意：</strong>MySQL 的 WHERE 子句的字符串比较是不区分大小写的。 你可以使用 <strong>BINARY</strong> 关键字来设定 WHERE 子句的字符串比较是区分大小写的。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; select * from runoob_tbl where binary runoob_title=&quot;学习 java&quot;;
Empty set (0.00 sec)</code></pre></div>

<h2 id="MySQL-UPDATE更新"><a href="#MySQL-UPDATE更新" class="headerlink" title="MySQL UPDATE更新"></a>MySQL UPDATE更新</h2><p>如果我们需要修改或更新 MySQL 中的数据，我们可以使用 SQL <strong>UPDATE</strong> 命令来操作</p>
<p>以下是 <strong>UPDATE</strong> 命令修改 MySQL 数据表数据的通用 SQL 语法：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">UPDATE table_name SET field1=new-value1, field2=new-value2
[WHERE Clause]</code></pre></div>

<ul>
<li>你可以同时更新一个或多个字段。</li>
<li>你可以在 WHERE 子句中指定任何条件。</li>
<li>你可以在一个单独表中同时更新数据。</li>
</ul>
<p>实例分析：将 runoob_tb1 中的 学习C 改为 学习C++</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; update runoob_tbl set runoob_title=&quot;学习 C++&quot; where runoob_id=5;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0
mysql&gt; select * from runoob_tbl;
+-----------+--------------+---------------+-----------------+
| runoob_id | runoob_title | runoob_author | submission_date |
+-----------+--------------+---------------+-----------------+
|         1 | 学习 PHP     | 菜鸟教程      | 2017-04-12      |
|         2 | 学习 MySQL   | 菜鸟教程      | 2017-04-12      |
|         3 | 学习 Java    | RUNOOB.COM    | 2015-05-01      |
|         4 | 学习 Python  | RUNOOB.COM    | 2016-03-06      |
|         5 | 学习 C++     | FK            | 2017-04-05      |
+-----------+--------------+---------------+-----------------+
5 rows in set (0.00 sec)</code></pre></div>

<h2 id="MySQL-DELETE语句"><a href="#MySQL-DELETE语句" class="headerlink" title="MySQL DELETE语句"></a>MySQL DELETE语句</h2><p>你可以使用 SQL 的 <strong>DELETE FROM</strong> 命令来删除 MySQL 数据表中的记录</p>
<div class="code-wrapper"><pre><code class="hljs mysql">DELETE FROM table_name [WHERE Clause]</code></pre></div>

<h2 id="MySQL-LIKE子句"><a href="#MySQL-LIKE子句" class="headerlink" title="MySQL LIKE子句"></a>MySQL LIKE子句</h2><p>SQL LIKE 子句中使用百分号 **%**字符来表示任意字符，类似于UNIX或正则表达式中的星号 *****</p>
<p>如果没有使用百分号 <strong>%</strong>, LIKE 子句与等号 <strong>&#x3D;</strong> 的效果是一样的</p>
<div class="code-wrapper"><pre><code class="hljs mysql">SELECT field1, field2,...fieldN 
FROM table_name
WHERE field1 LIKE condition1 [AND [OR]] filed2 = &#x27;somevalue&#x27;</code></pre></div>

<ul>
<li>你可以在 WHERE 子句中指定任何条件。</li>
<li>你可以在 WHERE 子句中使用LIKE子句。</li>
<li>你可以使用LIKE子句代替等号 **&#x3D;**。</li>
<li>LIKE 通常与 <strong>%</strong> 一同使用，类似于一个元字符的搜索。</li>
<li>你可以使用 AND 或者 OR 指定一个或多个条件。</li>
<li>你可以在 DELETE 或 UPDATE 命令中使用 WHERE…LIKE 子句来指定条件。</li>
</ul>
<p>实例分析：从 <strong>runoob_tb1</strong> 数据表中获取 <strong>runoob_author</strong> 字段中以 <strong>COM</strong> 为结尾的所有记录：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; select * from runoob_tbl where runoob_author like &quot;%COM&quot;;
+-----------+--------------+---------------+-----------------+
| runoob_id | runoob_title | runoob_author | submission_date |
+-----------+--------------+---------------+-----------------+
|         3 | 学习 Java    | RUNOOB.COM    | 2015-05-01      |
|         4 | 学习 Python  | RUNOOB.COM    | 2016-03-06      |
+-----------+--------------+---------------+-----------------+
2 rows in set (0.00 sec)</code></pre></div>

<h2 id="MySQL-UNION操作符"><a href="#MySQL-UNION操作符" class="headerlink" title="MySQL UNION操作符"></a>MySQL UNION操作符</h2><p>MySQL UNION 操作符用于连接两个以上的 SELECT 语句的结果组合到一个结果集合中。多个 SELECT 语句会删除重复的数据。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">SELECT expression1, expression2, ... expression_n
FROM tables
[WHERE conditions]
UNION [ALL | DISTINCT]
SELECT expression1, expression2, ... expression_n
FROM tables
[WHERE conditions];</code></pre></div>

<ul>
<li><strong>DISTINCT:</strong> 可选，删除结果集中重复的数据。默认情况下 UNION 操作符已经删除了重复数据，所以 DISTINCT 修饰符对结果没啥影响。</li>
<li><strong>ALL:</strong> 可选，返回所有结果集，包含重复数据。</li>
</ul>
<p>实例分析：从 <strong>websites</strong> 和 <strong>apps</strong> 两个数据表中选择country数据</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; select country from websites
    -&gt; union
    -&gt; select country from apps
    -&gt; order by country;
+---------+
| country |
+---------+
| CN      |
| IND     |
| US      |
+---------+
3 rows in set (0.04 sec)</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; select country from websites
    -&gt; union all
    -&gt; select country from apps
    -&gt; order by country;
+---------+
| country |
+---------+
| CN      |
| CN      |
| CN      |
| CN      |
| CN      |
| IND     |
| US      |
| US      |
| US      |
+---------+
9 rows in set (0.00 sec)</code></pre></div>

<h2 id="MySQL-ORDER-BY-语句"><a href="#MySQL-ORDER-BY-语句" class="headerlink" title="MySQL ORDER BY 语句"></a>MySQL ORDER BY 语句</h2><p>以下是 SQL SELECT 语句使用 ORDER BY 子句将查询数据排序后再返回数据</p>
<div class="code-wrapper"><pre><code class="hljs mysql">SELECT field1, field2,...fieldN FROM table_name1, table_name2...
ORDER BY field1 [ASC [DESC][默认 ASC]], [field2...] [ASC [DESC][默认 ASC]]</code></pre></div>

<ul>
<li>你可以使用任何字段来作为排序的条件，从而返回排序后的查询结果。</li>
<li>你可以设定多个字段来排序。</li>
<li>你可以使用 ASC 或 DESC 关键字来设置查询结果是按升序或降序排列。 默认情况下，它是按升序排列。</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; use RUNOOB;
Database changed
mysql&gt; SELECT * from runoob_tbl ORDER BY submission_date ASC;
+-----------+---------------+---------------+-----------------+
| runoob_id | runoob_title  | runoob_author | submission_date |
+-----------+---------------+---------------+-----------------+
| 3         | 学习 Java   | RUNOOB.COM    | 2015-05-01      |
| 4         | 学习 Python | RUNOOB.COM    | 2016-03-06      |
| 1         | 学习 PHP    | 菜鸟教程  | 2017-04-12      |
| 2         | 学习 MySQL  | 菜鸟教程  | 2017-04-12      |
+-----------+---------------+---------------+-----------------+
4 rows in set (0.01 sec)
 
mysql&gt; SELECT * from runoob_tbl ORDER BY submission_date DESC;
+-----------+---------------+---------------+-----------------+
| runoob_id | runoob_title  | runoob_author | submission_date |
+-----------+---------------+---------------+-----------------+
| 1         | 学习 PHP    | 菜鸟教程  | 2017-04-12      |
| 2         | 学习 MySQL  | 菜鸟教程  | 2017-04-12      |
| 4         | 学习 Python | RUNOOB.COM    | 2016-03-06      |
| 3         | 学习 Java   | RUNOOB.COM    | 2015-05-01      |
+-----------+---------------+---------------+-----------------+
4 rows in set (0.01 sec)</code></pre></div>

<h2 id="MySQL-GROUP-BY-语句"><a href="#MySQL-GROUP-BY-语句" class="headerlink" title="MySQL GROUP BY 语句"></a>MySQL GROUP BY 语句</h2><p>GROUP BY 语句根据一个或多个列对结果集进行分组</p>
<p>在分组的列上我们可以使用 COUNT, SUM, AVG,等函数</p>
<div class="code-wrapper"><pre><code class="hljs mysql">SELECT column_name, function(column_name)
FROM table_name
WHERE column_name operator value
GROUP BY column_name;</code></pre></div>

<p>实例分析：使用 GROUP BY 语句将数据表按名字进行分组，并记录每个人有多少条记录</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT * FROM employee_tbl;
+----+--------+---------------------+--------+
| id | name   | date                | singin |
+----+--------+---------------------+--------+
|  1 | 小明 | 2016-04-22 15:25:33 |      1 |
|  2 | 小王 | 2016-04-20 15:25:47 |      3 |
|  3 | 小丽 | 2016-04-19 15:26:02 |      2 |
|  4 | 小王 | 2016-04-07 15:26:14 |      4 |
|  5 | 小明 | 2016-04-11 15:26:40 |      4 |
|  6 | 小明 | 2016-04-04 15:26:54 |      2 |
+----+--------+---------------------+--------+
6 rows in set (0.00 sec)

mysql&gt; SELECT name, COUNT(*) FROM employee_tbl GROUP BY name;
+--------+----------+
| name   | COUNT(*) |
+--------+----------+
| 小丽 |        1 |
| 小明 |        3 |
| 小王 |        2 |
+--------+----------+
3 rows in set (0.01 sec)</code></pre></div>

<h3 id="WITH-ROLLUP-语句"><a href="#WITH-ROLLUP-语句" class="headerlink" title="WITH ROLLUP 语句"></a>WITH ROLLUP 语句</h3><p>WITH ROLLUP 可以实现在分组统计数据基础上再进行相同的统计（SUM,AVG,COUNT…）</p>
<p>例如我们将以上的数据表按名字进行分组，再统计每个人登录的次数：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT name, SUM(singin) as singin_count FROM  employee_tbl GROUP BY name WITH ROLLUP;
+--------+--------------+
| name   | singin_count |
+--------+--------------+
| 小丽 |            2 |
| 小明 |            7 |
| 小王 |            7 |
| NULL   |           16 |
+--------+--------------+
4 rows in set (0.00 sec)</code></pre></div>

<p>其中记录 NULL 表示所有人的登录次数。</p>
<p>我们可以使用 coalesce 来设置一个可以取代 NUll 的名称，<strong>coalesce</strong> 语法：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">select coalesce(a,b,c);</code></pre></div>

<p>参数说明：如果a&#x3D;&#x3D;null,则选择b；如果b&#x3D;&#x3D;null,则选择c；如果a!&#x3D;null,则选择a；如果a b c 都为null ，则返回为null（没意义）</p>
<p>以下实例中如果名字为空我们使用总数代替：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT coalesce(name, &#x27;总数&#x27;), SUM(singin) as singin_count FROM  employee_tbl GROUP BY name WITH ROLLUP;
+--------------------------+--------------+
| coalesce(name, &#x27;总数&#x27;) | singin_count |
+--------------------------+--------------+
| 小丽                   |            2 |
| 小明                   |            7 |
| 小王                   |            7 |
| 总数                   |           16 |
+--------------------------+--------------+
4 rows in set (0.01 sec)</code></pre></div>

<h2 id="MySQL-JOIN-语句"><a href="#MySQL-JOIN-语句" class="headerlink" title="MySQL JOIN 语句"></a>MySQL JOIN 语句</h2><p>你可以在 SELECT, UPDATE 和 DELETE 语句中使用 Mysql 的 JOIN 来联合多表查询</p>
<p>JOIN 按照功能大致分为如下三类：</p>
<ul>
<li><strong>INNER JOIN（内连接,或等值连接）</strong>：获取两个表中字段匹配关系的记录</li>
<li><strong>LEFT JOIN（左连接）：</strong>获取左表所有记录，即使右表没有对应匹配的记录</li>
<li><strong>RIGHT JOIN（右连接）：</strong> 与 LEFT JOIN 相反，用于获取右表所有记录，即使左表没有对应匹配的记录</li>
</ul>
<p>测试数据</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; use RUNOOB;
Database changed
mysql&gt; SELECT * FROM tcount_tbl;
+---------------+--------------+
| runoob_author | runoob_count |
+---------------+--------------+
| 菜鸟教程  | 10           |
| RUNOOB.COM    | 20           |
| Google        | 22           |
+---------------+--------------+
3 rows in set (0.01 sec)
 
mysql&gt; SELECT * from runoob_tbl;
+-----------+---------------+---------------+-----------------+
| runoob_id | runoob_title  | runoob_author | submission_date |
+-----------+---------------+---------------+-----------------+
| 1         | 学习 PHP    | 菜鸟教程  | 2017-04-12      |
| 2         | 学习 MySQL  | 菜鸟教程  | 2017-04-12      |
| 3         | 学习 Java   | RUNOOB.COM    | 2015-05-01      |
| 4         | 学习 Python | RUNOOB.COM    | 2016-03-06      |
| 5         | 学习 C      | FK            | 2017-04-05      |
+-----------+---------------+---------------+-----------------+
5 rows in set (0.01 sec)</code></pre></div>

<h3 id="INNER-JOIN-语句"><a href="#INNER-JOIN-语句" class="headerlink" title="INNER JOIN 语句"></a>INNER JOIN 语句</h3><p>接下来我们就使用MySQL的**INNER JOIN(也可以省略 INNER 使用 JOIN，效果一样)**来连接以上两张表来读取runoob_tbl表中所有runoob_author字段在tcount_tbl表对应的runoob_count字段值：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT a.runoob_id, a.runoob_author, b.runoob_count FROM runoob_tbl a INNER JOIN tcount_tbl b ON a.runoob_author = b.runoob_author;
+-------------+-----------------+----------------+
| a.runoob_id | a.runoob_author | b.runoob_count |
+-------------+-----------------+----------------+
| 1           | 菜鸟教程    | 10             |
| 2           | 菜鸟教程    | 10             |
| 3           | RUNOOB.COM      | 20             |
| 4           | RUNOOB.COM      | 20             |
+-------------+-----------------+----------------+
4 rows in set (0.00 sec)</code></pre></div>

<p>以上 SQL 语句等价于：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT a.runoob_id, a.runoob_author, b.runoob_count FROM runoob_tbl a, tcount_tbl b WHERE a.runoob_author = b.runoob_author;
+-------------+-----------------+----------------+
| a.runoob_id | a.runoob_author | b.runoob_count |
+-------------+-----------------+----------------+
| 1           | 菜鸟教程    | 10             |
| 2           | 菜鸟教程    | 10             |
| 3           | RUNOOB.COM      | 20             |
| 4           | RUNOOB.COM      | 20             |
+-------------+-----------------+----------------+
4 rows in set (0.01 sec)</code></pre></div>

<h3 id="LEFT-JOIN-语句"><a href="#LEFT-JOIN-语句" class="headerlink" title="LEFT JOIN 语句"></a>LEFT JOIN 语句</h3><p>MySQL left join 与 join 有所不同。 MySQL LEFT JOIN 会读取左边数据表的全部数据，即便右边表无对应数据尝试以下实例，以 <strong>runoob_tbl</strong> 为左表，<strong>tcount_tbl</strong> 为右表，理解 MySQL LEFT JOIN 的应用：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT a.runoob_id, a.runoob_author, b.runoob_count FROM runoob_tbl a LEFT JOIN tcount_tbl b ON a.runoob_author = b.runoob_author;
+-------------+-----------------+----------------+
| a.runoob_id | a.runoob_author | b.runoob_count |
+-------------+-----------------+----------------+
| 1           | 菜鸟教程    | 10             |
| 2           | 菜鸟教程    | 10             |
| 3           | RUNOOB.COM      | 20             |
| 4           | RUNOOB.COM      | 20             |
| 5           | FK              | NULL           |
+-------------+-----------------+----------------+
5 rows in set (0.01 sec)</code></pre></div>

<h3 id="RIGHT-JOIN-语句"><a href="#RIGHT-JOIN-语句" class="headerlink" title="RIGHT JOIN 语句"></a>RIGHT JOIN 语句</h3><p>MySQL RIGHT JOIN 会读取右边数据表的全部数据，即便左边边表无对应数据。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT a.runoob_id, a.runoob_author, b.runoob_count FROM runoob_tbl a RIGHT JOIN tcount_tbl b ON a.runoob_author = b.runoob_author;
+-------------+-----------------+----------------+
| a.runoob_id | a.runoob_author | b.runoob_count |
+-------------+-----------------+----------------+
| 1           | 菜鸟教程    | 10             |
| 2           | 菜鸟教程    | 10             |
| 3           | RUNOOB.COM      | 20             |
| 4           | RUNOOB.COM      | 20             |
| NULL        | NULL            | 22             |
+-------------+-----------------+----------------+
5 rows in set (0.01 sec)</code></pre></div>

<h2 id="MySQL-ALTER命令"><a href="#MySQL-ALTER命令" class="headerlink" title="MySQL ALTER命令"></a>MySQL ALTER命令</h2><p>先创建一个测试数据表 <strong>testalter_tbl</strong> ：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; create table testalter_tbl
    -&gt; (
    -&gt; i INT,
    -&gt; c CHAR(1)
    -&gt; );
Query OK, 0 rows affected (0.05 sec)
mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| i     | int(11) | YES  |     | NULL    |       |
| c     | char(1) | YES  |     | NULL    |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)</code></pre></div>

<h3 id="删除表字段"><a href="#删除表字段" class="headerlink" title="删除表字段"></a>删除表字段</h3><div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl DROP i;</code></pre></div>

<h3 id="添加表字段"><a href="#添加表字段" class="headerlink" title="添加表字段"></a>添加表字段</h3><div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl ADD i INT;</code></pre></div>

<p>执行以上命令后，i 字段会自动添加到数据表字段的末尾。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| c     | char(1) | YES  |     | NULL    |       |
| i     | int(11) | YES  |     | NULL    |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)</code></pre></div>

<p>如果你需要指定新增字段的位置，可以使用MySQL提供的关键字 <strong>FIRST</strong> (设定位第一列)， <strong>AFTER</strong> 字段名（设定位于某个字段之后）</p>
<div class="code-wrapper"><pre><code class="hljs mysql">ALTER TABLE testalter_tbl DROP i;
ALTER TABLE testalter_tbl ADD i INT FIRST;
ALTER TABLE testalter_tbl DROP i;
ALTER TABLE testalter_tbl ADD i INT AFTER c;</code></pre></div>

<h3 id="修改表字段"><a href="#修改表字段" class="headerlink" title="修改表字段"></a>修改表字段</h3><p>如果需要修改字段类型及名称, 你可以在ALTER命令中使用 <strong>MODIFY</strong> 或 <strong>CHANGE</strong> 子句 。</p>
<p>例如，把字段 c 的类型从 CHAR(1) 改为 CHAR(10)，可以执行以下命令:</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl MODIFY c CHAR(10);</code></pre></div>

<p>使用 CHANGE 子句, 语法有很大的不同。 在 CHANGE 关键字之后，紧跟着的是你要修改的字段名，然后指定新字段名及类型。尝试如下实例：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl CHANGE i j BIGINT;</code></pre></div>

<h3 id="ALTER-TABLE-对-Null-值和默认值的影响"><a href="#ALTER-TABLE-对-Null-值和默认值的影响" class="headerlink" title="ALTER TABLE 对 Null 值和默认值的影响"></a>ALTER TABLE 对 Null 值和默认值的影响</h3><p>当你修改字段时，你可以指定是否包含值或者是否设置默认值</p>
<p>以下实例，指定字段 j 为 NOT NULL 且默认值为100 </p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl 
    -&gt; MODIFY j BIGINT NOT NULL DEFAULT 100;</code></pre></div>

<p>如果你不设置默认值，MySQL会自动设置该字段默认为 NULL</p>
<h3 id="修改字段默认值"><a href="#修改字段默认值" class="headerlink" title="修改字段默认值"></a>修改字段默认值</h3><p>你可以使用 ALTER 来修改字段的默认值，尝试以下实例：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl ALTER i SET DEFAULT 1000;
mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| c     | char(1) | YES  |     | NULL    |       |
| i     | int(11) | YES  |     | 1000    |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)</code></pre></div>

<p>你也可以使用 ALTER 命令及 DROP子句来删除字段的默认值</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl ALTER i DROP DEFAULT;
mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| c     | char(1) | YES  |     | NULL    |       |
| i     | int(11) | YES  |     | NULL    |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)</code></pre></div>

<h3 id="修改表名"><a href="#修改表名" class="headerlink" title="修改表名"></a>修改表名</h3><p>如果需要修改数据表的名称，可以在 ALTER TABLE 语句中使用 <strong>RENAME TO</strong> 子句来实现</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER TABLE testalter_tbl RENAME TO alter_tbl;</code></pre></div>

<h2 id="MySQL-临时表"><a href="#MySQL-临时表" class="headerlink" title="MySQL 临时表"></a>MySQL 临时表</h2><h3 id="创建MySQL临时表"><a href="#创建MySQL临时表" class="headerlink" title="创建MySQL临时表"></a>创建MySQL临时表</h3><p>在之前提到的创建数据表语句中，在create后加上 <strong>temporary</strong> 字样：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; CREATE TEMPORARY TABLE SalesSummary (
    -&gt; product_name VARCHAR(50) NOT NULL
    -&gt; , total_sales DECIMAL(12,2) NOT NULL DEFAULT 0.00
    -&gt; , avg_unit_price DECIMAL(7,2) NOT NULL DEFAULT 0.00
    -&gt; , total_units_sold INT UNSIGNED NOT NULL DEFAULT 0
);
Query OK, 0 rows affected (0.00 sec)</code></pre></div>

<p>如果你退出当前MySQL会话，再使用 <strong>SELECT</strong>命令来读取原先创建的临时表数据，那你会发现数据库中没有该表的存在，因为在你退出时该临时表已经被销毁了</p>
<h3 id="删除MySQL临时表"><a href="#删除MySQL临时表" class="headerlink" title="删除MySQL临时表"></a>删除MySQL临时表</h3><p>默认情况下，当你断开与数据库的连接后，临时表就会自动被销毁。当然你也可以在当前MySQL会话使用 <strong>DROP TABLE</strong> 命令来手动删除临时表</p>
<h2 id="MySQL-复制表"><a href="#MySQL-复制表" class="headerlink" title="MySQL 复制表"></a>MySQL 复制表</h2><ul>
<li>使用 <strong>SHOW CREATE TABLE</strong> 命令获取创建数据表(<strong>CREATE TABLE</strong>) 语句，该语句包含了原数据表的结构，索引等。</li>
<li>复制以下命令显示的SQL语句，修改数据表名，并执行SQL语句，通过以上命令 将完全的复制数据表结构。</li>
<li>如果你想复制表的内容，你就可以使用 <strong>INSERT INTO … SELECT</strong> 语句来实现。</li>
</ul>
<p><strong>步骤一：</strong></p>
<p>获取数据表的完整结构。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SHOW CREATE TABLE runoob_tbl \G;
*************************** 1. row ***************************
       Table: runoob_tbl
Create Table: CREATE TABLE `runoob_tbl` (
  `runoob_id` int(11) NOT NULL auto_increment,
  `runoob_title` varchar(100) NOT NULL default &#x27;&#x27;,
  `runoob_author` varchar(40) NOT NULL default &#x27;&#x27;,
  `submission_date` date default NULL,
  PRIMARY KEY  (`runoob_id`),
  UNIQUE KEY `AUTHOR_INDEX` (`runoob_author`)
) ENGINE=InnoDB 
1 row in set (0.00 sec)

ERROR:
No query specified</code></pre></div>

<p><strong>步骤二：</strong></p>
<p>修改SQL语句的数据表名，并执行SQL语句。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; CREATE TABLE `clone_tbl` (
  -&gt; `runoob_id` int(11) NOT NULL auto_increment,
  -&gt; `runoob_title` varchar(100) NOT NULL default &#x27;&#x27;,
  -&gt; `runoob_author` varchar(40) NOT NULL default &#x27;&#x27;,
  -&gt; `submission_date` date default NULL,
  -&gt; PRIMARY KEY  (`runoob_id`),
  -&gt; UNIQUE KEY `AUTHOR_INDEX` (`runoob_author`)
-&gt; ) ENGINE=InnoDB;
Query OK, 0 rows affected (1.80 sec)</code></pre></div>

<p><strong>步骤三：</strong></p>
<p>执行完第二步骤后，你将在数据库中创建新的克隆表 clone_tbl。 如果你想拷贝数据表的数据你可以使用 <strong>INSERT INTO… SELECT</strong> 语句来实现。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; INSERT INTO clone_tbl (runoob_id,
    -&gt;                        runoob_title,
    -&gt;                        runoob_author,
    -&gt;                        submission_date)
    -&gt; SELECT runoob_id,runoob_title,
    -&gt;        runoob_author,submission_date
    -&gt; FROM runoob_tbl;
Query OK, 3 rows affected (0.07 sec)
Records: 3  Duplicates: 0  Warnings: 0</code></pre></div>

<h2 id="MySQL-序列使用"><a href="#MySQL-序列使用" class="headerlink" title="MySQL 序列使用"></a>MySQL 序列使用</h2><p>MySQL 序列是一组整数：1, 2, 3, …，由于一张数据表只能有一个字段自增主键， 如果你想实现其他字段也实现自动增加，就可以使用MySQL序列来实现</p>
<p>MySQL 中最简单使用序列的方法就是使用 MySQL <strong>AUTO_INCREMENT</strong> 来定义序列：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; CREATE TABLE insect
    -&gt; (
    -&gt; id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    -&gt; PRIMARY KEY (id),
    -&gt; name VARCHAR(30) NOT NULL, # type of insect
    -&gt; date DATE NOT NULL, # date collected
    -&gt; origin VARCHAR(30) NOT NULL # where collected
)auto_increment=1;
Query OK, 0 rows affected (0.02 sec)

mysql&gt; INSERT INTO insect (id,name,date,origin) VALUES
    -&gt; (NULL,&#x27;housefly&#x27;,&#x27;2001-09-10&#x27;,&#x27;kitchen&#x27;),
    -&gt; (NULL,&#x27;millipede&#x27;,&#x27;2001-09-10&#x27;,&#x27;driveway&#x27;),
    -&gt; (NULL,&#x27;grasshopper&#x27;,&#x27;2001-09-10&#x27;,&#x27;front yard&#x27;);
Query OK, 3 rows affected (0.02 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; SELECT * FROM insect ORDER BY id;
+----+-------------+------------+------------+
| id | name        | date       | origin     |
+----+-------------+------------+------------+
|  1 | housefly    | 2001-09-10 | kitchen    |
|  2 | millipede   | 2001-09-10 | driveway   |
|  3 | grasshopper | 2001-09-10 | front yard |
+----+-------------+------------+------------+
3 rows in set (0.00 sec)</code></pre></div>

<p><strong>注意：</strong> 一般情况下序列的开始值为1，但如果你需要指定一个开始值100，那我们可以通过在 <strong>CREATE TABLE</strong> 末端设置 <strong>auto_increment&#x3D;100</strong> 来实现</p>
<h2 id="MySQL-元数据"><a href="#MySQL-元数据" class="headerlink" title="MySQL 元数据"></a>MySQL 元数据</h2><p>总之，只要不是我们存储到数据库里的数据，大多都可以理解为元数据。描述数据库的任何数据—作为数据库内容的对立面—是元数据。因此，列名、数据库名、用户名、版本名以及从SHOW语句得到的结果中的大部分字符串是元数据。</p>
<p>MySQL提供了以下三种方法用于获取数据库对象的元数据：</p>
<p>1）show语句</p>
<p>MySQL用show语句获取元数据是最常用的方法，下面提供了几种典型用法：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">show databases;  --列出所有数据库
show create database db_name;  --查看数据库的DDL
show tables; --列出默认数据库的所有表
show tables from db_name;  --列出指定数据库的所有表
show table status;  --查看表的描述性信息
show table status from db_name;
show create table tbl_name;  --查看表的DDL (可在末尾加入&#x27;\G&#x27;缩略显示)
show columns from tbl_name;  --查看列信息 (等价于 desc tbl_name;)
show index from tbl_name;  --查看索引信息</code></pre></div>

<p>2）从INFORMATION_SCHEMA数据库里查询相关表</p>
<p>INFORMATION_SCHEMA是MySQL自带的一个系统数据库，它里面存储了所有的元数据，通过select里面的相关表就可以获取你想要的元数据。和show语句相比，它比较麻烦，但它的好处是标准的SQL语句，更具有可移植性，且更灵活，可以通过各种表达式获取你真正需要的信息。</p>
<p>3）命令行程序，如mysqlshow, mysqldump</p>
<p>前面两种方法都必须得在MySQL命令行里执行，而mysqlshow和mysqldump提供了从OS命令行获取元数据库的方法，如：</p>
<div class="code-wrapper"><pre><code class="hljs shell">mysqlshow  --列出所有数据库
mysqlshow db_name  --列出给定数据库的所有表
mysqlshow db_name tbl_name  --列出给定数据库表的所有列
mysqlshow --keys db_name tbl_name  --列出索引信息
mysqlshow --status db_name  --列出数据库的描述性信息</code></pre></div>

<p>mysqldump可以让你看到create table语句（就想show create table语句一样），如：</p>
<div class="code-wrapper"><pre><code class="hljs shell">mysqldump --no-data db_name [tbl_name] ...</code></pre></div>

<p>注意：在用mysqldump查看表结构时，一定要加上–no-data，否则你看到的将是数据库表里的数据</p>
<h2 id="MySQL-索引"><a href="#MySQL-索引" class="headerlink" title="MySQL 索引"></a>MySQL 索引</h2><ol>
<li><p>MySQL索引的建立对于MySQL的高效运行是很重要的，索引可以大大提高MySQL的检索速度。</p>
</li>
<li><p>索引分单列索引和组合索引。单列索引，即一个索引只包含单个列，一个表可以有多个单列索引，但这不是组合索引。组合索引，即一个索引包含多个列。</p>
</li>
<li><p>创建索引时，你需要确保该索引是应用在 SQL 查询语句的条件(一般作为 WHERE 子句的条件)。</p>
</li>
<li><p>实际上，索引也是一张表，该表保存了主键与索引字段，并指向实体表的记录。</p>
</li>
</ol>
<h3 id="普通索引-INDEX"><a href="#普通索引-INDEX" class="headerlink" title="普通索引 (INDEX)"></a>普通索引 (INDEX)</h3><h4 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h4><p>这是最基本的索引，它没有任何限制。它有以下几种创建方式：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">CREATE INDEX indexName ON table_name (column_name)</code></pre></div>

<h4 id="修改表结构-添加索引"><a href="#修改表结构-添加索引" class="headerlink" title="修改表结构(添加索引)"></a>修改表结构(添加索引)</h4><div class="code-wrapper"><pre><code class="hljs mysql">ALTER table tableName ADD INDEX indexName(columnName)</code></pre></div>

<h4 id="创建表的时候直接指定"><a href="#创建表的时候直接指定" class="headerlink" title="创建表的时候直接指定"></a>创建表的时候直接指定</h4><div class="code-wrapper"><pre><code class="hljs mysql">CREATE TABLE mytable(  
 
ID INT NOT NULL,   
 
username VARCHAR(16) NOT NULL,  
 
INDEX [indexName] (username(length))  
 
);</code></pre></div>

<p>如果是CHAR，VARCHAR类型，length可以小于字段实际长度；如果是BLOB和TEXT类型，必须指定 length。</p>
<h4 id="删除索引的语法"><a href="#删除索引的语法" class="headerlink" title="删除索引的语法"></a>删除索引的语法</h4><div class="code-wrapper"><pre><code class="hljs mysql">DROP INDEX [indexName] ON mytable;</code></pre></div>

<h3 id="唯一索引-UNIQUE"><a href="#唯一索引-UNIQUE" class="headerlink" title="唯一索引 (UNIQUE)"></a>唯一索引 (UNIQUE)</h3><p>它与前面的普通索引类似，不同的就是：索引列的值必须唯一，但允许有空值。如果是组合索引，则列值的组合必须唯一。它有以下几种创建方式：</p>
<h4 id="创建索引-1"><a href="#创建索引-1" class="headerlink" title="创建索引"></a>创建索引</h4><div class="code-wrapper"><pre><code class="hljs mysql">CREATE UNIQUE INDEX indexName ON mytable(username(length))</code></pre></div>

<h4 id="修改表结构"><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h4><div class="code-wrapper"><pre><code class="hljs mysql">ALTER table mytable ADD UNIQUE [indexName] (username(length))</code></pre></div>

<h4 id="创建表的时候直接指定-1"><a href="#创建表的时候直接指定-1" class="headerlink" title="创建表的时候直接指定"></a>创建表的时候直接指定</h4><div class="code-wrapper"><pre><code class="hljs mysql">CREATE TABLE mytable(  
 
ID INT NOT NULL,   
 
username VARCHAR(16) NOT NULL,  
 
UNIQUE [indexName] (username(length))  
 
);</code></pre></div>

<h2 id="MySQL-处理重复数据"><a href="#MySQL-处理重复数据" class="headerlink" title="MySQL 处理重复数据"></a>MySQL 处理重复数据</h2><h3 id="避免重复数据"><a href="#避免重复数据" class="headerlink" title="避免重复数据"></a>避免重复数据</h3><p>你可以在 MySQL 数据表中设置指定的字段为 <strong>PRIMARY KEY（主键）</strong> 或者 <strong>UNIQUE（唯一）</strong> 索引来保证数据的唯一性。比如，如果你想设置表中字段 first_name，last_name 数据不能重复，你可以设置双主键模式来设置数据的唯一性， 如果你设置了双主键，那么那个键的默认值不能为 NULL，可设置为 NOT NULL。如下所示：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">CREATE TABLE person_tbl
(
   first_name CHAR(20) NOT NULL,
   last_name CHAR(20) NOT NULL,
   sex CHAR(10),
   PRIMARY KEY (last_name, first_name)
);</code></pre></div>

<p>如果我们设置了唯一索引，那么在插入重复数据时，SQL 语句将无法执行成功,并抛出错。</p>
<p>另一种设置数据的唯一性方法是添加一个 UNIQUE 索引，如下所示：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">CREATE TABLE person_tbl
(
   first_name CHAR(20) NOT NULL,
   last_name CHAR(20) NOT NULL,
   sex CHAR(10),
   UNIQUE (last_name, first_name)
);</code></pre></div>

<h3 id="统计重复数据"><a href="#统计重复数据" class="headerlink" title="统计重复数据"></a>统计重复数据</h3><div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT COUNT(*) as repetitions, last_name, first_name
    -&gt; FROM person_tbl
    -&gt; GROUP BY last_name, first_name
    -&gt; HAVING repetitions &gt; 1;</code></pre></div>

<p>以上查询语句将返回 person_tbl 表中重复的记录数。 一般情况下，查询重复的值，请执行以下操作：</p>
<ul>
<li>确定哪一列包含的值可能会重复。</li>
<li>在列选择列表使用COUNT(*)列出的那些列。</li>
<li>在GROUP BY子句中列出的列。</li>
<li>HAVING子句设置重复数大于1。</li>
</ul>
<h3 id="过滤重复数据"><a href="#过滤重复数据" class="headerlink" title="过滤重复数据"></a>过滤重复数据</h3><p>如果你需要读取不重复的数据可以在 SELECT 语句中使用 DISTINCT 关键字来过滤重复数据。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT DISTINCT last_name, first_name
    -&gt; FROM person_tbl;</code></pre></div>

<p>你也可以使用 GROUP BY 来读取数据表中不重复的数据：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT last_name, first_name
    -&gt; FROM person_tbl
    -&gt; GROUP BY (last_name, first_name);</code></pre></div>

<h3 id="删除重复数据"><a href="#删除重复数据" class="headerlink" title="删除重复数据"></a>删除重复数据</h3><p>如果你想删除数据表中的重复数据，你可以使用以下的SQL语句：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; CREATE TABLE tmp SELECT last_name, first_name, sex FROM person_tbl  GROUP BY (last_name, first_name, sex);
mysql&gt; DROP TABLE person_tbl;
mysql&gt; ALTER TABLE tmp RENAME TO person_tbl;</code></pre></div>

<p>当然你也可以在数据表中添加 INDEX（索引） 和 PRIMAY KEY（主键）这种简单的方法来删除表中的重复记录。方法如下：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; ALTER IGNORE TABLE person_tbl
    -&gt; ADD PRIMARY KEY (last_name, first_name);</code></pre></div>

<h2 id="MySQL-数据的导入及导出"><a href="#MySQL-数据的导入及导出" class="headerlink" title="MySQL 数据的导入及导出"></a>MySQL 数据的导入及导出</h2><h3 id="MySQL导出数据"><a href="#MySQL导出数据" class="headerlink" title="MySQL导出数据"></a>MySQL导出数据</h3><h4 id="使用-SELECT-…-INTO-OUTFILE-语句导出数据"><a href="#使用-SELECT-…-INTO-OUTFILE-语句导出数据" class="headerlink" title="使用 SELECT … INTO OUTFILE 语句导出数据"></a>使用 SELECT … INTO OUTFILE 语句导出数据</h4><p>示例：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; SELECT * FROM runoob_tbl 
    -&gt; INTO OUTFILE &#x27;/tmp/runoob.txt&#x27;;</code></pre></div>

<ul>
<li><strong>LOAD DATA INFILE</strong> 是 <strong>SELECT … INTO OUTFILE</strong> 的逆操作，SELECT句法。为了将一个数据库的数据写入一个文件，使用SELECT … INTO OUTFILE，为了将文件读回数据库，使用LOAD DATA INFILE。</li>
<li>SELECT…INTO OUTFILE ‘file_name’形式的SELECT可以把被选择的行写入一个文件中。该文件被创建到服务器主机上，因此您必须拥有FILE权限，才能使用此语法。</li>
<li>输出不能是一个已存在的文件。防止文件数据被篡改。</li>
<li>你需要有一个登陆服务器的账号来检索文件。否则 SELECT … INTO OUTFILE 不会起任何作用。</li>
<li>在UNIX中，该文件被创建后是可读的，权限由MySQL服务器所拥有。这意味着，虽然你就可以读取该文件，但可能无法将其删除。</li>
</ul>
<h4 id="导出表作为原始数据"><a href="#导出表作为原始数据" class="headerlink" title="导出表作为原始数据"></a>导出表作为原始数据</h4><p><strong>mysqldump</strong> 是 mysql 用于转存储数据库的实用程序。它主要产生一个 SQL 脚本，其中包含从头重新创建数据库所必需的命令 <strong>CREATE TABLE INSERT</strong> 等。</p>
<p>使用 <strong>mysqldump</strong> 导出数据需要使用 <strong>–tab</strong> 选项来指定导出文件指定的目录，该目标必须是可写的。</p>
<p>以下实例将数据表 runoob_tbl 导出到 &#x2F;tmp 目录中：</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">mysqldump -u root -p --no-create-info \</span>
<span class="language-bash">            --tab=/tmp RUNOOB runoob_tbl</span>
password ******</code></pre></div>

<h4 id="导出SQL格式的数据"><a href="#导出SQL格式的数据" class="headerlink" title="导出SQL格式的数据"></a>导出SQL格式的数据</h4><p>导出 SQL 格式的数据到指定文件，如下所示：</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">mysqldump -u root -p RUNOOB runoob_tbl &gt; dump.txt</span>
password ******</code></pre></div>

<p>以上创建的文件内容如下：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">-- MySQL dump 8.23
--
-- Host: localhost    Database: RUNOOB
---------------------------------------------------------
-- Server version       3.23.58

--
-- Table structure for table `runoob_tbl`
--

CREATE TABLE runoob_tbl (
  runoob_id int(11) NOT NULL auto_increment,
  runoob_title varchar(100) NOT NULL default &#x27;&#x27;,
  runoob_author varchar(40) NOT NULL default &#x27;&#x27;,
  submission_date date default NULL,
  PRIMARY KEY  (runoob_id),
  UNIQUE KEY AUTHOR_INDEX (runoob_author)
) TYPE=MyISAM;

--
-- Dumping data for table `runoob_tbl`
--

INSERT INTO runoob_tbl 
       VALUES (1,&#x27;Learn PHP&#x27;,&#x27;John Poul&#x27;,&#x27;2007-05-24&#x27;);
INSERT INTO runoob_tbl 
       VALUES (2,&#x27;Learn MySQL&#x27;,&#x27;Abdul S&#x27;,&#x27;2007-05-24&#x27;);
INSERT INTO runoob_tbl 
       VALUES (3,&#x27;JAVA Tutorial&#x27;,&#x27;Sanjay&#x27;,&#x27;2007-05-06&#x27;);</code></pre></div>

<p>如果你需要导出整个数据库的数据，可以使用以下命令：</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">mysqldump -u root -p RUNOOB &gt; database_dump.txt</span>
password ******</code></pre></div>

<p>如果需要备份所有数据库，可以使用以下命令：</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">mysqldump -u root -p --all-databases &gt; database_dump.txt</span>
password ******</code></pre></div>

<h3 id="MySQL导入数据"><a href="#MySQL导入数据" class="headerlink" title="MySQL导入数据"></a>MySQL导入数据</h3><h4 id="mysql命令导入"><a href="#mysql命令导入" class="headerlink" title="mysql命令导入"></a>mysql命令导入</h4><p>使用 mysql 命令导入语法格式为：</p>
<div class="code-wrapper"><pre><code class="hljs shell">mysql -u用户名 -p密码 &lt; 要导入的数据库数据(如runoob.sql)</code></pre></div>

<p><strong>实例：</strong></p>
<div class="code-wrapper"><pre><code class="hljs shell">mysql -uroot -p123456 &lt; runoob.sql</code></pre></div>

<p>以上命令将将备份的整个数据库 runoob.sql 导入。</p>
<h4 id="source命令导入"><a href="#source命令导入" class="headerlink" title="source命令导入"></a>source命令导入</h4><p>source 命令导入数据库需要先登录到数库终端：</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; create database abc;      # 创建数据库
mysql&gt; use abc;                  # 使用已创建的数据库 
mysql&gt; set names utf8;           # 设置编码
mysql&gt; source /home/abc/abc.sql  # 导入备份数据库</code></pre></div>

<h4 id="使用-LOAD-DATA-导入数据"><a href="#使用-LOAD-DATA-导入数据" class="headerlink" title="使用 LOAD DATA 导入数据"></a>使用 LOAD DATA 导入数据</h4><p>MySQL 中提供了LOAD DATA INFILE语句来插入数据。 以下实例中将从当前目录中读取文件 dump.txt ，将该文件中的数据插入到当前数据库的 mytbl 表中。</p>
<div class="code-wrapper"><pre><code class="hljs mysql">mysql&gt; LOAD DATA LOCAL INFILE &#x27;dump.txt&#x27; INTO TABLE mytbl;</code></pre></div>

<p>如果指定LOCAL关键词，则表明从客户主机上按路径读取文件。如果没有指定，则文件在服务器上按路径读取文件。</p>
<h4 id="使用-mysqlimport导入数据"><a href="#使用-mysqlimport导入数据" class="headerlink" title="使用 mysqlimport导入数据"></a>使用 mysqlimport导入数据</h4><p>mysqlimport 客户端提供了 LOAD DATA INFILEQL 语句的一个命令行接口。mysqlimport 的大多数选项直接对应 LOAD DATA INFILE 子句。</p>
<p>从文件 dump.txt 中将数据导入到 mytbl 数据表中, 可以使用以下命令：</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">mysqlimport -u root -p --<span class="hljs-built_in">local</span> mytbl dump.txt</span>
password *****</code></pre></div>

<p>mysqlimport 语句中使用 –columns 选项来设置列的顺序：</p>
<div class="code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">mysqlimport -u root -p --<span class="hljs-built_in">local</span> --columns=b,c,a \</span>
<span class="language-bash">    mytbl dump.txt</span>
password *****</code></pre></div>

<h4 id="mysqlimport的常用选项介绍"><a href="#mysqlimport的常用选项介绍" class="headerlink" title="mysqlimport的常用选项介绍"></a>mysqlimport的常用选项介绍</h4><table>
<thead>
<tr>
<th align="center">选项</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-d or –delete</td>
<td align="left">新数据导入数据表中之前删除数据数据表中的所有信息</td>
</tr>
<tr>
<td align="center">-f or –force</td>
<td align="left">不管是否遇到错误，mysqlimport将强制继续插入数据</td>
</tr>
<tr>
<td align="center">-i or –ignore</td>
<td align="left">mysqlimport跳过或者忽略那些有相同唯一 关键字的行， 导入文件中的数据将被忽略。</td>
</tr>
<tr>
<td align="center">-l or -lock-tables</td>
<td align="left">数据被插入之前锁住表，这样就防止了， 你在更新数据库时，用户的查询和更新受到影响。</td>
</tr>
<tr>
<td align="center">-r or -replace</td>
<td align="left">这个选项与－i选项的作用相反；此选项将替代 表中有相同唯一关键字的记录。</td>
</tr>
<tr>
<td align="center">–fields-enclosed- by&#x3D; char</td>
<td align="left">指定文本文件中数据的记录时以什么括起的， 很多情况下 数据以双引号括起。 默认的情况下数据是没有被字符括起的。</td>
</tr>
<tr>
<td align="center">–fields-terminated- by&#x3D;char</td>
<td align="left">指定各个数据的值之间的分隔符，在句号分隔的文件中， 分隔符是句号。您可以用此选项指定数据之间的分隔符。 默认的分隔符是跳格符（Tab）</td>
</tr>
<tr>
<td align="center">–lines-terminated- by&#x3D;str</td>
<td align="left">此选项指定文本文件中行与行之间数据的分隔字符串 或者字符。 默认的情况下mysqlimport以newline为行分隔符。 您可以选择用一个字符串来替代一个单个的字符： 一个新行或者一个回车。</td>
</tr>
</tbody></table>
<p>mysqlimport 命令常用的选项还有 -v 显示版本（version）， -p 提示输入密码（password）等。</p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/MySQL/" class="category-chain-item">MySQL</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/MySQL/">#MySQL</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MySQL - 基础用法总结</div>
      <div>http://example.com/2021/07/10/MySQL - 基础用法总结/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Zachary Deng</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>July 10, 2021</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>Licensed under</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/07/11/MySQL%20-%20%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E6%80%BB%E7%BB%93/" title="MySQL - 常用函数总结">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">MySQL - 常用函数总结</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/05/30/%E5%88%9D%E8%AF%95%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%20-%20Gym%E6%A1%86%E6%9E%B6%E5%AE%9E%E7%8E%B0%E5%80%92%E7%AB%8B%E6%91%86%E5%AE%9E%E9%AA%8C/" title="初试强化学习 - Gym框架搭建倒立摆实验">
                        <span class="hidden-mobile">初试强化学习 - Gym框架搭建倒立摆实验</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
  
  
<!--      <div>-->
<!--          <img src="https://s2.loli.net/2022/03/31/QBIoLUJiEy3lTwC.png" srcset="/img/loading.gif" lazyload width="200px" style="margin-bottom: 15px">-->
<!--      </div>-->
    <div>
        <word style=font-size:13px>
            Copyright © 2020-2021 <a href="http://zacdeng.github.io" target="_blank"><span style="color:rgb(28, 174, 240);">zacdeng </span></a>
            | Powered by <a href="https://github.com/hexojs/hexo" target="_blank"><span style="color:rgb(28, 174, 240);">Hexo</span></a>
            | Theme <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank"><span style="color:rgb(28, 174, 240);">Fluid</span></a>
        </word>

        <br>

        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span style=font-size:13px>
        <img src="https://i.loli.net/2020/07/19/UPEGCM1z2tgeWsI.png" srcset="/img/loading.gif" lazyload width="20px"> <span id="busuanzi_value_site_pv"></span> |
      </span>

        <span style=font-size:13px>
        <img src="https://i.loli.net/2020/07/19/T8hEs9tzj5acZpF.png" srcset="/img/loading.gif" lazyload width="20px"> <span id="busuanzi_value_site_uv"></span>
      </span>

        <br>

        <span id="timeDate" style=font-size:13px>载入天数...</span>
        <span id="times" style=font-size:13px>载入时分秒...</span>
        <script>
          var now = new Date();
          function createtime(){
            var grt= new Date("07/19/2020 00:00:00");//此处修改你的建站时间或者网站上线时间
            now.setTime(now.getTime()+250);
            days = (now - grt ) / 1000 / 60 / 60 / 24;
            dnum = Math.floor(days);
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
            hnum = Math.floor(hours);
            if(String(hnum).length ==1 ){
              hnum = "0" + hnum;
            }
            minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
            mnum = Math.floor(minutes);
            if(String(mnum).length ==1 ){
              mnum = "0" + mnum;
            }
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
            snum = Math.round(seconds);
            if(String(snum).length ==1 ){
              snum = "0" + snum;
            }
            document.getElementById("timeDate").innerHTML = "Safely running for &nbsp"+dnum+"&nbspdays";
            document.getElementById("times").innerHTML = hnum + "&nbsphr&nbsp" + mnum + "&nbspmin&nbsp" + snum + "&nbspsec";
          }
          setInterval("createtime()",250);
        </script>
    </div>

  
</div>



  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
